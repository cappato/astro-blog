---
/**
 * Componente BaseTag - Botón/enlace unificado para tags
 * Usa el sistema de temas para garantizar contraste consistente
 */

interface Props {
  tag: string;
  href?: string;
  variant?: 'default' | 'compact' | 'large';
  className?: string;
  onClick?: string;
}

const {
  tag,
  href = `/blog/tag/${tag.toLowerCase()}`,
  variant = 'default',
  className = '',
  onClick
} = Astro.props;

// Variantes de tamaño - estilos neutros
const variants = {
  default: 'inline-block px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-200 hover:border-gray-300 rounded-md no-underline transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2',
  compact: 'inline-block px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-200 hover:border-gray-300 rounded-md no-underline transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2',
  large: 'inline-block px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-200 hover:border-gray-300 rounded-md no-underline transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2'
};

const tagClasses = `${variants[variant as keyof typeof variants]} ${className}`.trim();

// Props comunes para accesibilidad
const commonProps = {
  class: tagClasses,
  'aria-label': `Ver artículos con la etiqueta ${tag}`,
  title: `Explorar artículos sobre ${tag}`
};
---

{onClick ? (
  <!-- Botón interactivo (para filtros, etc.) -->
  <button
    {...commonProps}
    type="button"
    onclick={onClick}
    data-tag={tag}
  >
    #{tag}
  </button>
) : (
  <!-- Enlace de navegación (comportamiento por defecto) -->
  <a
    {...commonProps}
    href={href}
  >
    #{tag}
  </a>
)}
