---
import Icon from '../../ui/Icon.astro';

// Datos del footer centralizados
const currentYear = new Date().getFullYear();
const socialLinks = [
  {
    href: "https://github.com/cappato",
    icon: "github" as const,
    label: "GitHub Profile",
    external: true
  },
  {
    href: "https://www.linkedin.com/in/matiascappato/",
    icon: "linkedin" as const,
    label: "LinkedIn Profile",
    external: true
  },
  {
    href: "mailto:matias@cappato.dev",
    icon: "email" as const,
    label: "Email",
    external: false
  }
];
---

<!-- Footer -->
<footer class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 py-8 mt-16 transition-theme dark:bg-white dark:bg-gray-800 dark:border-gray-200 dark:border-gray-700">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="text-gray-900 dark:text-white mb-4 md:mb-0">
                &copy; {currentYear} Matías Sebastián Cappato. All rights reserved.
            </div>
            <div class="flex space-x-6">
                {socialLinks.map(link => (
                    <a
                        href={link.href}
                        {...(link.external && {
                            target: "_blank",
                            rel: "noopener noreferrer"
                        })}
                        class="footer-social-link text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 inline-block p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900"
                        aria-label={link.label}
                    >
                        <Icon name={link.icon} size={24} />
                    </a>
                ))}
            </div>
        </div>
    </div>
</footer>

<!-- JavaScript optimizado para navegación con teclado -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Soporte para navegación con teclado en enlaces sociales
    const socialLinks = document.querySelectorAll('.footer-social-link');

    socialLinks.forEach((link) => {
      link.addEventListener('keydown', (e) => {
        if (e instanceof KeyboardEvent && (e.key === 'Enter' || e.key === ' ')) {
          e.preventDefault();
          if (link instanceof HTMLElement) {
            link.click();
          }
        }
      });
    });
  });
</script>