---
import SEOHead from '../seo/SEOHead.astro';
import CommonScripts from './CommonScripts.astro';

interface Props {
  title: string;
  description: string;
  image?: string;
  imageAlt?: string;
  type?: 'website' | 'article';
  keywords?: string[];
}

const {
  title,
  description,
  image,
  imageAlt,
  type = 'website',
  keywords
} = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
<head>
  <SEOHead
    title={title}
    description={description}
    image={image}
    imageAlt={imageAlt}
    type={type}
    keywords={keywords}
  />
  <CommonScripts />

  <!-- Mejora: Precargar fuentes críticas -->
  <link rel="preload" href="/fonts/main-font.woff2" as="font" type="font/woff2" crossorigin>

  <!-- Mejora: Preconectar a dominios de terceros -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Mejora: Tema de color para móviles -->
  <meta name="theme-color" content="#111827">

  <!-- Slot para estilos adicionales específicos de página -->
  <slot name="head" />
</head>
<body class="font-sans min-h-screen flex flex-col transition-theme">
  <!-- Mejora: Skip to content para accesibilidad -->
  <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:p-4 focus:bg-primary focus:text-white focus:z-50">
    Saltar al contenido principal
  </a>

  <header>
    <slot name="header" />
  </header>

  <main id="main-content" class="flex-grow">
    <slot />
  </main>

  <footer>
    <slot name="footer" />
  </footer>
</body>
</html>